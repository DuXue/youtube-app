{"version":3,"sources":["@traceur/generated/TemplateParser/5404","@traceur/generated/TemplateParser/5403","@traceur/generated/TemplateParser/5402","@traceur/generated/TemplateParser/5408","@traceur/generated/TemplateParser/5405","@traceur/generated/TemplateParser/5409","angular2/src/forms/directives.js","angular2/src/forms/@traceur/generated/TemplateParser/25","@traceur/generated/TemplateParser/13","angular2/src/forms/@traceur/generated/TemplateParser/24","angular2/src/forms/@traceur/generated/TemplateParser/23","angular2/src/forms/@traceur/generated/TemplateParser/26","@traceur/generated/TemplateParser/5406"],"names":[],"mappings":"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","file":"angular2/src/forms/directives.js","sourceRoot":"/Users/radokirov/angular/dist/js/dev/es6/","sourcesContent":["System.register($__placeholder__0, function($__export) {\n          $__placeholder__1\n        });","return {\n      setters: $__placeholder__0,\n      execute: $__placeholder__1\n    }","function($__m) {\n          $__placeholder__0\n        }","$__placeholder__0 = $__m.$__placeholder__1;","var $__placeholder__0 = $__export($__placeholder__1, $__placeholder__2);","function() {\n          var $__placeholder__0 = $__placeholder__1;\n          return ($traceurRuntime.createClass)($__placeholder__2, $__placeholder__3,\n                                               $__placeholder__4);\n        }()","import {Template, Component, Decorator, Ancestor, onChange, PropertySetter} from 'angular2/angular2';\nimport {Optional} from 'angular2/di';\nimport {isBlank, isPresent, isString, CONST} from 'angular2/src/facade/lang';\nimport {StringMapWrapper, ListWrapper} from 'angular2/src/facade/collection';\nimport {ControlGroup, Control} from './model';\nimport {Validators} from './validators';\n\n//export interface ControlValueAccessor {\n//  writeValue(value):void{}\n//  set onChange(fn){}\n//}\n\n@Decorator({\n  selector: '[control]',\n  events: {\n    'change' : 'onChange($event.target.value)',\n    'input' : 'onChange($event.target.value)'\n  }\n})\nexport class DefaultValueAccessor {\n  _setValueProperty:Function;\n  onChange:Function;\n\n  constructor(@PropertySetter('value') setValueProperty:Function) {\n    super();\n    this._setValueProperty = setValueProperty;\n    this.onChange = (_) => {};\n  }\n\n  writeValue(value) {\n    this._setValueProperty(value);\n  }\n}\n\n@Decorator({\n  selector: 'input[type=checkbox]', //should be input[type=checkbox][control]\n  // change the selector once https://github.com/angular/angular/issues/1025 is fixed\n  events: {\n    'change' : 'onChange($event.target.checked)'\n  }\n})\nexport class CheckboxControlValueAccessor {\n  _setCheckedProperty:Function;\n  onChange:Function;\n\n  constructor(cd:ControlDirective, @PropertySetter('checked') setCheckedProperty:Function) {\n    super();\n    this._setCheckedProperty = setCheckedProperty;\n    this.onChange = (_) => {};\n    cd.valueAccessor = this; //ControlDirective should inject CheckboxControlDirective\n  }\n\n  writeValue(value) {\n    this._setCheckedProperty(value);\n  }\n}\n\n@Decorator({\n  lifecycle: [onChange],\n  selector: '[control]',\n  bind: {\n    'controlName' : 'control'\n  }\n})\nexport class ControlDirective {\n  _groupDirective:ControlGroupDirective;\n\n  controlName:string;\n  valueAccessor:any; //ControlValueAccessor\n\n  validator:Function;\n\n  constructor(@Ancestor() groupDirective:ControlGroupDirective, valueAccessor:DefaultValueAccessor)  {\n    this._groupDirective = groupDirective;\n    this.controlName = null;\n    this.valueAccessor = valueAccessor;\n    this.validator = Validators.nullValidator;\n  }\n\n  // TODO: vsavkin this should be moved into the constructor once static bindings\n  // are implemented\n  onChange(_) {\n    this._initialize();\n  }\n\n  _initialize() {\n    this._groupDirective.addDirective(this);\n\n    var c = this._control();\n    c.validator = Validators.compose([c.validator, this.validator]);\n\n    this._updateDomValue();\n    this._setUpUpdateControlValue();\n  }\n\n  _updateDomValue() {\n    this.valueAccessor.writeValue(this._control().value);\n  }\n\n  _setUpUpdateControlValue() {\n    this.valueAccessor.onChange = (newValue) => this._control().updateValue(newValue);\n  }\n\n  _control() {\n    return this._groupDirective.findControl(this.controlName);\n  }\n}\n\n@Decorator({\n  selector: '[control-group]',\n  bind: {\n    'controlGroup' : 'control-group'\n  }\n})\nexport class ControlGroupDirective {\n  _groupDirective:ControlGroupDirective;\n  _controlGroupName:string;\n\n  _controlGroup:ControlGroup;\n  _directives:List<ControlDirective>;\n\n  constructor(@Optional() @Ancestor() groupDirective:ControlGroupDirective) {\n    super();\n    this._groupDirective = groupDirective;\n    this._directives = ListWrapper.create();\n  }\n\n  set controlGroup(controlGroup) {\n    if (isString(controlGroup)) {\n      this._controlGroupName = controlGroup;\n    } else {\n      this._controlGroup = controlGroup;\n    }\n    this._updateDomValue();\n  }\n\n  _updateDomValue() {\n    ListWrapper.forEach(this._directives, (cd) => cd._updateDomValue());\n  }\n\n  addDirective(c:ControlDirective) {\n    ListWrapper.push(this._directives, c);\n  }\n\n  findControl(name:string):any {\n    return this._getControlGroup().controls[name];\n  }\n\n  _getControlGroup():ControlGroup {\n    if (isPresent(this._controlGroupName)) {\n      return this._groupDirective.findControl(this._controlGroupName)\n    } else {\n      return this._controlGroup;\n    }\n  }\n}\n\nexport var FormDirectives = [\n  ControlGroupDirective, ControlDirective, CheckboxControlValueAccessor, DefaultValueAccessor\n];\n","assert.argumentTypes($__placeholder__0)","$traceurRuntime.superConstructor($__placeholder__0).call($__placeholder__1)","Object.defineProperty($__placeholder__0, $__placeholder__1,\n        {get: function() {return $__placeholder__2}});","assert.type.$__placeholder__0)","return assert.returnType(($__placeholder__0), $__placeholder__1)","$__export($__placeholder__0, $__placeholder__1)"]}